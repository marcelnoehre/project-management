<div class="kanban-container pt-4">
  <div class="board mb-3">
    <div class="column" *ngFor="let state of taskList">
      <div class="state" style="--color:  {{ getColor(state.state) }}">
        {{ "TASK.STATE_ENUM." + state.state | translate }}
      </div>
      <div
        cdkDropList
        class="tasks"
        [id]="state.state"
        [cdkDropListConnectedTo]="stateList"
        [cdkDropListData]="state.tasks"
        (cdkDropListDropped)="drop($event)"
      >
        <div cdkDrag class="task p-2 my-2" *ngFor="let task of state.tasks" (click)="showDetails(task)">
          <div [id]="task.uid">
            {{ task.title }}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="tools">
    <div class="trash-bin p-2" cdkDropList id="DELETED" [cdkDropListConnectedTo]="stateList" cdkDropListData="[]" (cdkDropListDropped)="drop($event)">
      <app-spinner-icon class="material-icons" icon="delete" [spinning]="loadingDelete"></app-spinner-icon>
    </div>
    <div class="actions">
      <button mat-raised-button (click)="json()">
        JSON
        <mat-icon>download</mat-icon>
      </button>
      <button mat-raised-button (click)="xml()">
        XML
        <mat-icon>download</mat-icon>
      </button>
      <button mat-raised-button (click)="yaml()">
        YAML
        <mat-icon>download</mat-icon>
      </button>
    </div>
  </div>
</div>
